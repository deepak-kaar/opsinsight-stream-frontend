<div class="flex flex-col gap-[10px]">
    <form [formGroup]="dbMappingForm" class="flex flex-col gap-[10px]">
        <div class="grid grid-cols-1 md:grid-cols-3 md:gap-4">
            <div class="flex flex-col gap-2">
                <label for="entityInstance">Entity or Instance<span class="text-[var(--p-red-500)]"> *</span></label>
                <p-select [options]="type" [filter]="true" styleClass="w-full" (onChange)="onTypeChange()"
                    appendTo="body" formControlName="type"></p-select>
            </div>
            <div class="flex flex-col gap-2">
                <label for="entityInstanceID">Entity or Instance Id<span class="text-[var(--p-red-500)]">
                        *</span></label>
                <p-select [options]="listOptions" optionLabel="name" optionValue="id" [filter]="true"
                    styleClass="w-full" appendTo="body" formControlName="id" (onChange)="onTypeNameChange()"></p-select>
            </div>
            <div class="flex flex-col gap-2">
                <label for="attributeName">Attribute Name<span class="text-[var(--p-red-500)]"> *</span></label>
                <p-select [options]="attributesOptions" optionLabel="name" [filter]="true" styleClass="w-full"
                    (onChange)="onAttributeChange($event)" appendTo="body"></p-select>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 md:gap-4">
            <!-- <div class="flex flex-col gap-2">
                <label for="piDesc">Attribute Description<span class="text-[var(--p-red-500)]"> *</span></label>
                <input pInputText formControlName="piDesc" id="piDesc" aria-describedby="username-help" />
            </div> -->
            <div class="flex flex-col gap-2">
                <label for="freqType">Freq Type<span class="text-[var(--p-red-500)]"> *</span></label>
                <p-select [options]="freqTypes" styleClass="w-full" formControlName="freqType"
                    appendTo="body"></p-select>
            </div>
            <div *ngIf="this.dialogConfig.data.mode === 'edit'" class="flex flex-col gap-2">
                <label for="Status">Status</label>
                <p-select formControlName="active" optionLabel="name" optionValue="value" [options]="activeStatus"
                    placeholder="Select Active status" class="w-full" />
            </div>
        </div>

        <div class="grid grid-cols-1 gap-4">
            <div class="flex flex-col gap-2">
                <div class="flex items-center justify-between gap-[10px]">
                    <label for="query">Query Parameters</label>
                    <p-select [options]="languageOptions" appendTo="body" formControlName="queryLang"
                        (onChange)="onLanguageChange()"></p-select>
                </div>
                <div class="h-[12rem]">
                    <ngx-monaco-editor style="width:100%; height: 100%" [options]="editorOptions"
                        formControlName="queryParameters"></ngx-monaco-editor>
                </div>
            </div>
        </div>
    </form>
    <div class="pt-[10px] md:pt-[0px] flex justify-center gap-[10px]">
        <p-button styleClass="md:w-[250px]" severity="danger" outlined="true" label="Cancel"
            (onClick)="cancel()"></p-button>
        <p-button styleClass="md:w-[250px]" label="Save" (onClick)="createDBMapping()"></p-button>
    </div>
</div>