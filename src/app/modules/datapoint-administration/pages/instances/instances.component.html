@if(isshowUi){
    <div class="pt-[50px] pl-[20px] pr-[20px] w-full">
        <div class="card">
            <div class="flex justify-end pb-3">
                @if(isAdmin || createAccess){
                }
            </div>
            <p-card class="w-full">
                <p-table #dt1 [value]="instances" dataKey="id" [rowHover]="true" [rows]="10" [showCurrentPageReport]="true"
                    [rowsPerPageOptions]="[10,20,30]" [paginator]="true"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0"
                    [globalFilterFields]="['instanceName', 'instanceDesc', 'representative.name', 'entityName']">
                    <ng-template pTemplate="caption">
                        <div class="flex justify-between">
                            <p-button [outlined]="true" icon="pi pi-filter-slash" label="Clear" (onClick)="clear(dt1)" />
                            <div class="flex gap-[10px] items-center">
                            <p-iconField iconPosition="left">
                                <p-inputIcon>
                                    <i class="pi pi-search"></i>
                                </p-inputIcon>
                                <input pInputText type="text" [(ngModel)]="searchValue" placeholder="Keyboard Search" />
                            </p-iconField>
                            <p-button label="Create Instance" [style]="{'border-radius':'12px','height':'37px'}"
                            (onClick)="createInstance()" />
                        </div>
                        </div>
                    </ng-template>
                    <ng-template pTemplate="header">
                        <tr>
                            <th pSortableColumn="entityName" style="min-width: 14rem" class="text-left">
                                <div class="flex justify-content-between align-items-center">
                                    Entity Name
                                    <p-sortIcon field="entityName" />
                                    <p-columnFilter type="text" field="entityName" display="menu" class="ml-auto" />
                                </div>
                            </th>
                            <th pSortableColumn="entityOrInstanceName" style="min-width: 14rem"
                                class="border-round-left-2xl text-left">
                                <div class="flex justify-content-between align-items-center">
                                    Instance Name
                                    <p-sortIcon field="entityOrInstanceName" />
                                    <p-columnFilter type="text" field="entityOrInstanceName" display="menu"
                                        class="ml-auto" />
                                </div>
                            </th>
    
                            <th pSortableColumn="entityOrInstanceDesc" style="min-width: 14rem">
                                <div class="flex justify-content-between align-items-center">
                                    Description
                                    <p-sortIcon field="entityOrInstanceDesc" />
                                    <p-columnFilter type="text" field="entityOrInstanceDesc" display="menu"
                                        class="ml-auto" />
                                </div>
                            </th>
                            <th pSortableColumn="instanceLocation" style="min-width: 10rem">
                                <div class="flex justify-content-between align-items-center">
                                    Location
                                    <p-sortIcon field="instanceLocation" />
                                    <p-columnFilter type="text" field="instanceLocation" display="menu" class="ml-auto" />
                                </div>
                            </th>
                            <th pSortableColumn="balance" style="min-width: 10rem" class="border-round-right-2xl">
                                <div class="flex justify-content-between align-items-center">
                                    App/Org
                                    <p-sortIcon field="balance" />
                                    <p-columnFilter type="numeric" field="balance" display="menu" currency="USD"
                                        class="ml-auto" />
                                </div>
                            </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-entity>
                        <tr class="p-selectable-row">
                            
                            <td class="text-left cursor-pointer" (click)="openInstance(entity.instanceId)">
                                <span class="ml-1 vertical-align-middle desc">{{ entity.entityName }}</span>
                            </td>
                            <td class="border-round-left-2xl cursor-pointer text-left"
                                (click)="openInstance(entity.instanceId)">
                                {{ entity.instanceName }}
                            </td>
                            <td class="text-left cursor-pointer" (click)="openInstance(entity.instanceId)">
                                <span class="ml-1 vertical-align-middle desc">{{ entity.instanceDesc }}</span>
                            </td>
                            <td (click)="openInstance(entity.instanceId)" class="cursor-pointer">
                                <span class="ml-1 vertical-align-middle">{{entity.instanceLocation}}</span>
                            </td>
                            <td (click)="openInstance(entity.instanceId)"
                                class="cursor-pointer border-round-right-2xl">
                                <span class="ml-1 vertical-align-middle">  {{
                                    entity.appName
                                      ? entity.appName + (entity.orgName ? ' ' + entity.orgName : '')
                                      : 'opsInsight'
                                  }}</span>
                            </td>  
                         
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="emptymessage">
                        <tr>
                            <td colspan="8">No Instances found.</td>
                        </tr>
                    </ng-template>
                </p-table>
            </p-card>
        </div>
        <p-toast [breakpoints]="breakPointForToastComponent"></p-toast>
    </div>
}
