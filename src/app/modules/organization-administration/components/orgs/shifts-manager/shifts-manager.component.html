<div class="flex justify-end pt-[10px] pb-[10px]">
    <p-button (onClick)="createShift()">Create New Shift</p-button>
</div>
<p-card class="w-full">
    <div class="card">
        <p-table #dt [value]="shifts" selectionMode="single" [(selection)]="selectedShift" dataKey="shiftId"
            [rowHover]="true" [rows]="10" [showCurrentPageReport]="(isMobile$|async)==false" [rowsPerPageOptions]="[10, 25, 50]"
            [loading]="loading" [paginator]="true"
            currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0"
            (onRowSelect)="onShiftSelect($event)"
            [globalFilterFields]="['name', 'country.name', 'representative.name', 'status']"
            class="customizePaginator">
            <ng-template #caption>
                @if ((isMobile$|async)==true){
                    <div class="flex flex-col justify-between">
                        <div class="flex justify-between items-center">
                            List of Shifts
                            <p-button [outlined]="true" icon="pi pi-filter-slash" (click)="clear(dt)" />
                        </div>
                        <div class="flex pt-[15px]">
                         
                            <p-iconField iconPosition="left" class="w-full">
                                <p-inputIcon class="w-full">
                                    <i class="pi pi-search"></i>
                                </p-inputIcon>
                                <input pInputText type="text" [(ngModel)]="searchValue" placeholder="Search" class="w-full" />
                            </p-iconField>
                        </div>
    
                    </div>
                }
                @else{
                    <div class="flex justify-between">
                        <div>
                            List of Shifts
                        </div>
                        <div class="flex gap-[10px]">
                            <p-button [outlined]="true" icon="pi pi-filter-slash" (click)="clear(dt)" />
                            <p-iconField iconPosition="left">
                                <p-inputIcon>
                                    <i class="pi pi-search"></i>
                                </p-inputIcon>
                                <input pInputText type="text" [(ngModel)]="searchValue" placeholder="Search" />
                            </p-iconField>
                        </div>
    
                    </div>
                }
                
            </ng-template>
            <ng-template #header>
                <tr>
                    <th pSortableColumn="templateName" style="min-width: 14rem">
                        <div class="flex justify-between items-center">
                            Shift Name
                            <p-sortIcon field="templateName" />
                            <!-- <p-columnFilter type="text" field="name" display="menu" class="ml-auto" /> -->
                        </div>
                    </th>
                    <th pSortableColumn="templateDescription" style="min-width: 14rem">
                        <div class="flex justify-between items-center">
                            Description
                            <p-sortIcon field="templateDescription" />
                            <!-- <p-columnFilter type="text" field="country.name" display="menu" class="ml-auto" /> -->
                        </div>
                    </th>

                    <th pSortableColumn="hourFormat" style="min-width: 10rem">
                        <div class="flex justify-between items-center">
                            Interval
                            <p-sortIcon field="createdOn" />
                        </div>
                    </th>
                    <th style="width: 5rem">
                        <div class="flex justify-between items-center">
                            Action
                            <p-sortIcon field="date" />
                            <!-- <p-columnFilter type="date" field="date" display="menu" class="ml-auto" /> -->
                        </div>
                    </th>
                </tr>
            </ng-template>
            <ng-template #body let-shift>
                <tr [pSelectableRow]="shift">
                    <td>
                        {{ shift.shiftName }}
                    </td>
                    <td>
                        {{ shift.shiftDescription }}
                    </td>
                    <td>
                        {{ shift.hourFormat }}
                    </td>
                    <td class="flex gap-[5px]">
                        <p-button icon="pi pi-pencil" [rounded]="true" [outlined]="true" (click)="editShift(shift)" />
                        <p-button (click)="deleteShift($event,shift.shiftId)" icon="pi pi-trash" severity="danger" [rounded]="true" [outlined]="true"/>
                    </td>
                </tr>
            </ng-template>
            <ng-template #emptymessage>
                <tr>
                    <td colspan="8">No Shifts found.</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</p-card>
<p-confirmdialog />
<p-toast [breakpoints]="breakPointForToastComponent"></p-toast>