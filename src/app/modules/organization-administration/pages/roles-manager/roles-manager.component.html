<div class="pt-[20px] px-[10px] md:pt-[50px] md:pl-[20px] md:pr-[20px] w-full">
    <div class="flex justify-end pb-[10px]">
    </div>
    <p-card class="w-full">
        <div class="card">
            <p-table #dt class="customizePaginator" [value]="roles" selectionMode="single" [(selection)]="selectedRole" dataKey="roleId"
                [rowHover]="true" [rows]="3" [showCurrentPageReport]="(isMobile$|async)==true?false:true" [rowsPerPageOptions]="[3, 5, 10]"
                [loading]="loading" [paginator]="true"
                currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0"
                (onRowSelect)="onRoleSelect($event)" (onRowUnselect)="onRoleUnSelect()"
                [globalFilterFields]="['name', 'country.name', 'representative.name', 'status']">
                <ng-template #caption>
                    @if((isMobile$|async)==true){
                        <div class="flex flex-col gap-[15px]">
                            <div class="flex justify-between items-center">
                                <div>
                                    List of Roles
                                </div>
                                <div class="flex gap-[10px]">
                                    <p-button [outlined]="true" icon="pi pi-filter-slash" (click)="clear(dt)" />
                                </div>
                            </div>
                            <p-iconField iconPosition="left" class="w-full">
                                <p-inputIcon class="w-full">
                                    <i class="pi pi-search"></i>
                                </p-inputIcon>
                                <input pInputText type="text" [(ngModel)]="searchValue" placeholder="Search" class="w-full" />
                            </p-iconField>
                            <p-button (onClick)="createRole()" class="text-end">Create New Role</p-button>
                        </div>
                    }
                    @else{
                        <div class="flex justify-between">
                            <div>
                                List of Roles
                            </div>
                            <div class="flex gap-[10px]">
                                <p-button [outlined]="true" icon="pi pi-filter-slash" (click)="clear(dt)" />
                                <p-iconField iconPosition="left">
                                    <p-inputIcon>
                                        <i class="pi pi-search"></i>
                                    </p-inputIcon>
                                    <input pInputText type="text" [(ngModel)]="searchValue" placeholder="Search" />
                                </p-iconField>
                                <p-button (onClick)="createRole()">Create New Role</p-button>
                            </div>
                        </div>
                    }
                    
                </ng-template>
                <ng-template #header>
                    <tr>
                        <th pSortableColumn="templateName" style="min-width: 14rem">
                            <div class="flex justify-between items-center">
                                Role Name
                                <p-sortIcon field="roleName" />
                                <!-- <p-columnFilter type="text" field="name" display="menu" class="ml-auto" /> -->
                            </div>
                        </th>
                        <th pSortableColumn="templateDescription" style="min-width: 14rem">
                            <div class="flex justify-between items-center">
                                Description
                                <p-sortIcon field="roleDescription" />
                                <!-- <p-columnFilter type="text" field="country.name" display="menu" class="ml-auto" /> -->
                            </div>
                        </th>


                        <th pSortableColumn="createdOn" style="min-width: 10rem">
                            <div class="flex justify-between items-center">
                                Date
                                <p-sortIcon field="createdOn" />
                                <!-- <p-columnFilter type="date" field="date" display="menu" class="ml-auto" /> -->
                            </div>
                        </th>
                        <th style="width: 5rem">
                            <div class="flex justify-between items-center">
                                Action
                            </div>
                        </th>
                    </tr>
                </ng-template>
                <ng-template #body let-role>
                    <tr [pSelectableRow]="role">
                        <td>
                            {{ role.roleName }}
                        </td>
                        <td>
                            {{ role.roleDescription }}
                        </td>
                        <td>
                            {{ role.createdOn | date: 'MM/dd/yyyy' }}
                        </td>
                        <td class="flex gap-[5px]">
                            <p-button icon="pi pi-pencil" [rounded]="true" [outlined]="true" (click)="editRole(role)" />
                            <p-button icon="pi pi-trash" severity="danger" [rounded]="true" [outlined]="true"
                                (click)="deleteRole(role.roleId)" />
                        </td>
                    </tr>
                </ng-template>
                <ng-template #emptymessage>
                    <tr>
                        <td colspan="8">No roles found.</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </p-card>
</div>
<p-toast [breakpoints]="breakPointForToastComponent"></p-toast>